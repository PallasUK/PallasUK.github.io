
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="#generatedBy()" />
    <title>Pallas Skin for Maven Sites &#x2013; Configure Maven</title>
    <link rel="stylesheet" href="../../css/pallas-1.0.1.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
  </head>
  <body>

  <header>

    <nav id="topbar" class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark ">
      <a class="navbarLinkLogo navbar-brand ps-2" href="/" id="navbarLinkLogo">
        <img alt="Pallas" class="d-inline-block" id="navbarImgLogo" src="../../images/logos/topbar-logo.png" style=; height=50px; width=60px; >
      </a>
      <a class="navbar-brand" href="/" id="navbarLinkName">Pallas Skin for Maven Sites</a>
      <!-- Part of the navbar link collapse mechanisim. -->
      <button aria-controls="navbarDivCollapse" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-bs-target="#navbarDivCollapse"
            data-bs-toggle="collapse" id="navbarBtnCollapse" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse navbarDivCollapse" id="navbarDivCollapse">
        <!-- Added so the unordered list can left justify. -->
                <div class="container-fluid" style="">
            <ul class="navbar-nav">
            <li class="nav-item dropdown" id="OverviewNavbarDropdownUnorderedList">
              <a class="nav-link dropdown-toggle" href="#" id="OverviewNavbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Overview</a>
              <ul class="dropdown-menu" aria-labelledby="OverviewNavbarDropdown">
                    <li class="dropdown-item" id="WelcomeNavbarDropdownMenu">
                        <a class="nav-link dropdown-item" href="../../overview/welcome.html" $item.target id="WelcomeNavbarDropdown">Welcome</a>
                    </li>
                    <li class="dropdown-item" id="Getting StartedNavbarDropdownMenu">
                        <a class="nav-link dropdown-item" href="../../overview/getting_started.html" $item.target id="Getting StartedNavbarDropdown">Getting Started</a>
                    </li>
                    <li class="dropdown-item" id="FAQNavbarDropdownMenu">
                        <a class="nav-link dropdown-item" href="../../overview/faq.html" $item.target id="FAQNavbarDropdown">FAQ</a>
                    </li>
              </ul>
            </li>
            <li class="nav-item dropdown" id="DocumentationNavbarDropdownUnorderedList">
              <a class="nav-link dropdown-toggle" href="#" id="DocumentationNavbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Documentation</a>
              <ul class="dropdown-menu" aria-labelledby="DocumentationNavbarDropdown">
                    <li class="dropdown-item" id="User GuideNavbarDropdownMenu">
                        <a class="nav-link dropdown-item" href="../../documentation/user_guide.html" $item.target id="User GuideNavbarDropdown">User Guide</a>
                    </li>
                    <li class="dropdown-item" id="DocumentationNavbarDropdownSubMenu">
                      <a class="nav-link dropdown-toggle" href="#Developer GuideNavbarDropdownUL" id="Developer GuideNavbarDropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Developer Guide</a>
                      <ul id="Developer GuideNavbarDropdownUL" class="submenu dropdown-menu">
                          <li>
                            <a class="nav-link droptdown-item" href="../../documentation/developer_guides/developer_guide.html" $subitem.target title="Building Software Project">Building Software Project</a>
                          </li>
                      </ul>
                    </li>
              </ul>
            </li>
            <li class="nav-item dropdown" id="DevelopersNavbarDropdownUnorderedList">
              <a class="nav-link dropdown-toggle" href="#" id="DevelopersNavbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Developers</a>
              <ul class="dropdown-menu" aria-labelledby="DevelopersNavbarDropdown">
                    <li class="dropdown-item" id="BuildingNavbarDropdownMenu">
                        <a class="nav-link dropdown-item" href="../../developers/technical/building_project.html" $item.target id="BuildingNavbarDropdown">Building</a>
                    </li>
                    <li class="dropdown-item" id="ReleaseNavbarDropdownMenu">
                        <a class="nav-link dropdown-item" href="../../developers/technical/release_project.html" $item.target id="ReleaseNavbarDropdown">Release</a>
                    </li>
                    <li class="dropdown-item" id="Development ProcessNavbarDropdownMenu">
                        <a class="nav-link dropdown-item" href="../../developers/technical/development_workflow.html" $item.target id="Development ProcessNavbarDropdown">Development Process</a>
                    </li>
                    <li class="dropdown-item" id="Release ManagementNavbarDropdownMenu">
                        <a class="nav-link dropdown-item" href="../../developers/technical/release_project.html" $item.target id="Release ManagementNavbarDropdown">Release Management</a>
                    </li>
              </ul>
            </li>
            <li class="nav-item dropdown" id="Project DocumentationNavbarDropdownUnorderedList">
              <a class="nav-link dropdown-toggle" href="#" id="Project DocumentationNavbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Project Documentation</a>
              <ul class="dropdown-menu" aria-labelledby="Project DocumentationNavbarDropdown">
                    <li class="dropdown-item" id="Project DocumentationNavbarDropdownSubMenu">
                      <a class="nav-link dropdown-toggle" href="#Project InformationNavbarDropdownUL" id="Project InformationNavbarDropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Project Information</a>
                      <ul id="Project InformationNavbarDropdownUL" class="submenu dropdown-menu">
                          <li>
                            <a class="nav-link droptdown-item" href="../../dependency-info.html" $subitem.target title="Dependency Information">Dependency Information</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../distribution-management.html" $subitem.target title="Distribution Management">Distribution Management</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../index.html" $subitem.target title="About">About</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../licenses.html" $subitem.target title="Licenses">Licenses</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../plugin-management.html" $subitem.target title="Plugin Management">Plugin Management</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../plugins.html" $subitem.target title="Plugins">Plugins</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../scm.html" $subitem.target title="Source Code Management">Source Code Management</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../summary.html" $subitem.target title="Summary">Summary</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../team.html" $subitem.target title="Team">Team</a>
                          </li>
                      </ul>
                    </li>
                    <li class="dropdown-item" id="Project DocumentationNavbarDropdownSubMenu">
                      <a class="nav-link dropdown-toggle" href="#Project ReportsNavbarDropdownUL" id="Project ReportsNavbarDropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Project Reports</a>
                      <ul id="Project ReportsNavbarDropdownUL" class="submenu dropdown-menu">
                          <li>
                            <a class="nav-link droptdown-item" href="../../changelog.html" $subitem.target title="Change Log">Change Log</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../file-activity.html" $subitem.target title="File Activity">File Activity</a>
                          </li>
                          <li>
                            <a class="nav-link droptdown-item" href="../../dev-activity.html" $subitem.target title="Developer Activity">Developer Activity</a>
                          </li>
                      </ul>
                    </li>
              </ul>
            </li>
            </ul>
        </div>
      </div>
    </nav>

  </header>
  <main role="main">
    <!-- Describe the Members of the organisation -->
    <div class="container-fluid content">
      <div class="row content-row">
<h1>Configure Maven</h1>
<p>This section will walk you though how to configure and secure Apache Maven.</p><section>
<h2><a name="Pre-requisites"></a>Pre-requisites</h2>
<ul>

<li><a href="install_maven.html">Install Maven</a></li>
</ul></section><section>
<h2><a name="Password_Encryption"></a>Password Encryption</h2>
<p>Maven supports server password encryption. We will use this to ensure the password token is not exposed if the device is compromised.</p><section>
<h3><a name="How_to_create_a_master_password"></a>How to create a master password</h3>
<p>Use the following command line:</p>

<div class="source"><pre class="prettyprint linenums"><code class="language-bash">mvn --encrypt-master-password
</code></pre></div>
<p>Maven should request your &#x2018;master&#x2019; password, this can be anything unique and is used as a salt to encrypt your other passwords. This command will produce an encrypted version of the password, something like</p>

<div class="source"><pre class="prettyprint linenums"><code class="language-bash">{jSMOWnoPFgsHVpMvz5VrIt5kRbzGpI8u+9EF1iFQyJQ=}
</code></pre></div>
<p>Store this password in the <code>/home/runner/.m2/settings-security.xml</code> it should look like</p>

<div class="source"><pre class="prettyprint linenums"><code class="language-xml">&lt;settingsSecurity&gt;
  &lt;master&gt;{jSMOWnoPFgsHVpMvz5VrIt5kRbzGpI8u+9EF1iFQyJQ=}&lt;/master&gt;
&lt;/settingsSecurity&gt;
</code></pre></div>
<p>When this is done, you can start encrypting existing server passwords.</p></section><section>
<h3><a name="Deploy_GitHub_M2_Settings_file."></a>Deploy GitHub M2 Settings file.</h3>
<p>Each project contains github actions which reference a <a href="../../../.github/maven_settings.xml">M2 Settings file</a>. This file is used so the build system knows where to to look for project dependencies. Copy this file to <code>/home/runner/.m2/settings.xml</code>. Github actions injects usernames and passwords as environment variables. The server section:</p>

<div class="source"><pre class="prettyprint linenums"><code class="language-xml">&lt;server&gt;
  &lt;id&gt;github&lt;/id&gt;
  &lt;username&gt;stevecrocker&lt;/username&gt;
  &lt;password&gt;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&lt;/password&gt;
&lt;/server&gt;
</code></pre></div>
<p>Needs to be updated with your credentials. All instances of<code>stevecrocker</code> should be replaced with your GitHub Username. Next we need to generate a Personal Access Token so it can be encrypted and stored.</p></section><section>
<h3><a name="Creating_a_personal_access_token"></a>Creating a personal access token</h3>
<p>Personal access tokens (PATs) are an alternative to using passwords for authentication to GitHub when using the GitHub API or the command line.</p>
<ul>

<li>In a web browser open <a class="externalLink" href="https://www.github.com">GitHub</a></li>
<li>On GitHub verify your email address, if it hasn't been verified yet.</li>
<li>In the upper-right corner of any page, click your profile photo, then click Settings. Settings icon in the user bar</li>
<li>In the left sidebar, click Developer settings. Developer settings</li>
<li>In the left sidebar, click Personal access tokens. Personal access tokens</li>
<li>Click Generate new token. Generate new token button</li>
<li>Give your token a descriptive name. Token description field</li>
<li>To give your token an expiration, select the Expiration drop-down menu, then click a default or use the calendar picker. Token expiration field</li>
<li>Select the scopes, or permissions, you'd like to grant this token. To use your token to access repositories from the command line, select repo.</li>
<li>Click Generate token.</li>
</ul>
<p>Make note of the token we will encrypt it in the next step and it is not shown again.</p></section><section>
<h3><a name="How_to_encrypt_server_passwords"></a>How to encrypt server passwords</h3>
<p>Now we have a personal access token we can use as a password we need to encrypt it to use on the device. This is achieved using the following command:</p>

<div class="source"><pre class="prettyprint linenums"><code class="language-bash">mvn --encrypt-password
</code></pre></div>
<p>A dialog will appear asking for the password, please use the personal access token value. This command produces an encrypted version of it, something like</p>

<div class="source"><pre class="prettyprint linenums"><code>{COQLCE6DU6GtcS5P=}
</code></pre></div>
<p>Within your M2 Settings file <code>/home/runner/.m2/settings.xml</code> you will find a number of server elements like the following:</p>

<div class="source"><pre class="prettyprint linenums"><code class="language-xml">&lt;server&gt;
  &lt;id&gt;github&lt;/id&gt;
  &lt;username&gt;stevecrocker&lt;/username&gt;
  &lt;password&gt;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&lt;/password&gt;
&lt;/server&gt;
</code></pre></div>
<p>Replace all instances of <code>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</code> with the encrypted password you generated in the previous steps.</p></section></section>
      </div>
    </div>
  </main>

  <footer class="page-footer font-small pt-4 bg-dark text-light">
    <div class="container-fluid text-md-left">
        <div class="row">
          <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
            <!-- Links -->
            <h5 class="text-uppercase fw-bold mb-4">Contact</h5>
            <!-- <p><i class="fas fa-home me-3"></i>UK</p> -->
            <a href="mailto:info@pallas.uk"><i class="fas fa-envelope me-3"></i>info@pallas.uk</a>
            <p><i class="fas fa-phone me-3"></i>+44 7861 530488</p>
          </div>
          <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
            <div>Get connected with us on social networks</div>
            <div>
              <a class="me-4 text-reset" href="https://www.facebook.com/groups/350073883439443"><i class="fab fa-facebook"></i></a>
              <a class="me-4 text-reset" href="https://twitter.com/PallasUK"><i class="fab fa-twitter"></i></a>
              <a class="me-4 text-reset" href=""><i class="fab fa-instagram"></i></a>
              <a class="me-4 text-reset" href=""><i class="fab fa-linkedin"></i></a>
              <a class="me-4 text-reset" href="https://github.com/PallasUK"><i class="fab fa-github"></i></a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script src="../../js/pallas-1.0.1.min.js"></script>
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/017cb43275.js"></script>
  </body>
</html>